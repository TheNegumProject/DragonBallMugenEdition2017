;---------------------------------------------------------------------------
; Aerial drop (attempt)
[Statedef 2000]
type = S
movetype = A
physics = S
anim = 2000
velset = 0,0
ctrl = 0

[State 2000, 1]
type = HitDef
trigger1 = time = 0
attr = S, NT
damage = 0,0
animtype = Light
hitflag = MAF
priority = 2,Miss
pausetime = 0,0
sparkno = -1
guard.sparkno = S6199
sparkxy = 10,-50
hitsound = S0,3
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -5, 12
air.hittime = 12
p1stateno = 2001
p2stateno = 2002
snap = 15,-111

[State 2000, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Aerial drop (success)
[Statedef 2001]
type = S
movetype = A
physics = S
anim = 2001

[State 0, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 81

[State 0, 5]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 15,-111

[State 0, 6]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 15,-111

[State 0, 7]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 15,-111

[State 0, 8]
type = TargetBind
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
pos = 15,-111

[State 0, 9]
type = TargetBind
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
pos = 99,0

[State 0, 10]
type = TargetBind
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 7, < 0
pos = 99,0

[State 0, 11]
type = TargetBind
trigger1 = AnimElem = 7,>= 0
trigger1 = AnimElem = 8, < 0
pos = 99,0

[State 0, 12]
type = TargetBind
trigger1 = AnimElem = 8,>= 0
trigger1 = AnimElem = 9, < 0
pos = 99,0

[State 0, 13]
type = TargetBind
trigger1 = AnimElem = 9,>= 0
trigger1 = AnimElem = 10, < 0
pos = 99,0

[State 0, 14]
type = TargetBind
trigger1 = AnimElem = 10,>= 0
trigger1 = AnimElem = 11, < 0
pos = 99,0

[State 0, 15]
type = TargetBind
trigger1 = AnimElem = 11, = 0
pos = 99,0

[State 0, 16]
type = TargetState
trigger1 = AnimElem = 11, = 1
value = 2003

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 7
trigger3 = animelem = 9
trigger4 = animelem = 11
value = S0,9
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 7
trigger3 = animelem = 9
trigger4 = animelem = 11
value = S1,0
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 7
trigger3 = animelem = 9
trigger4 = animelem = 11
value = S0,5
volume = 255
channel = -1

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
trigger2 = animelem = 7
trigger3 = animelem = 9
trigger4 = animelem = 11
anim = 6191
ID =  6191
pos = 110,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = .5,.5
sprpriority = 7
ontop = 0
shadow = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 6196
ID =  6196
pos = 20,-161
postype = p1
facing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = .5,.5
sprpriority = 7
ontop = 0
shadow = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = time < 0
value = -1

[State 2001, 15]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Thrown by Aerial drop
[Statedef 2002]
type = S
movetype = H
physics = S
velset = 0,0
ctrl = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = time < 0
value = 1


[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 5
trigger2 = animelem = 7
trigger3 = animelem = 9
trigger4 = animelem = 11
value = -30
kill = 1
absolute = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = time < 0
value = 1

[State 0, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 2002

[State 0, 2]
type = ScreenBound
Trigger1 = Time > 0
value = 0
movecamera = 0,0

[State 0, 2]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 35

;-----------------------------------------------------------------------------
[Statedef 2003]
type    = A
movetype= H
physics = N

[State 620, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 0, Gravity]
type = VelAdd
trigger1 = 1
x = -10
y = .45

[State 0,FLY]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 2003, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;--------------------------------------------------------------------------
;---------------------------------------------------------------------------
; Aerial drop (attempt)
[Statedef 2004]
type = S
movetype = A
physics = S
anim = 2000
velset = 0,0
ctrl = 0

[State 2000, 1]
type = HitDef
trigger1 = time = 0
attr = S, NT
damage = 0,0
animtype = Light
hitflag = MAF
priority = 2,Miss
pausetime = 0,0
sparkno = -1
guard.sparkno = S6199
sparkxy = 10,-50
hitsound = S0,3
guardsound = S0,10
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -5, 12
air.hittime = 12
p1stateno = 2005
p2stateno = 2006
snap = 15,-111

[State 2004, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Aerial drop (success)
[Statedef 2005]
type = S
movetype = A
physics = S
anim = 2001

[State 0, Turn]
type = Turn
trigger1 =  time =  0

[State 0, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 81

[State 0, 5]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 15,-111

[State 0, 6]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 15,-111

[State 0, 7]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 15,-111

[State 0, 8]
type = TargetBind
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
pos = 15,-111

[State 0, 9]
type = TargetBind
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
pos = 99,0

[State 0, 10]
type = TargetBind
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 7, < 0
pos = 99,0

[State 0, 11]
type = TargetBind
trigger1 = AnimElem = 7,>= 0
trigger1 = AnimElem = 8, < 0
pos = 99,0

[State 0, 12]
type = TargetBind
trigger1 = AnimElem = 8,>= 0
trigger1 = AnimElem = 9, < 0
pos = 99,0

[State 0, 13]
type = TargetBind
trigger1 = AnimElem = 9,>= 0
trigger1 = AnimElem = 10, < 0
pos = 99,0

[State 0, 14]
type = TargetBind
trigger1 = AnimElem = 10,>= 0
trigger1 = AnimElem = 11, < 0
pos = 99,0

[State 0, 15]
type = TargetBind
trigger1 = AnimElem = 11, = 0
pos = 99,0

[State 0, 16]
type = TargetState
trigger1 = AnimElem = 11, = 1
value = 2003

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 7
trigger3 = animelem = 9
trigger4 = animelem = 11
value = S0,9
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 7
trigger3 = animelem = 9
trigger4 = animelem = 11
value = S1,0
volume = 255
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 7
trigger3 = animelem = 9
trigger4 = animelem = 11
value = S0,5
volume = 255
channel = -1

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
trigger2 = animelem = 7
trigger3 = animelem = 9
trigger4 = animelem = 11
anim = 6191
ID =  6191
pos = 110,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = .5,.5
sprpriority = 7
ontop = 0
shadow = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 1
anim = 6196
ID =  6196
pos = 20,-161
postype = p1
facing = 1
bindtime = 1
removetime = -2
supermove = 1
pausemove =1
scale = .5,.5
sprpriority = 7
ontop = 0
shadow = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = time < 0
value = -1

[State 2005, 15]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Thrown by Aerial drop
[Statedef 2006]
type = S
movetype = H
physics = S
velset = 0,0
ctrl = 0

[State 0, Turn]
type = Turn
trigger1 = time = 0
;ignorehitpause =
;persistent =


[State 0, SprPriority]
type = SprPriority
trigger1 = time < 0
value = 1


[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 5
trigger2 = animelem = 7
trigger3 = animelem = 9
trigger4 = animelem = 11
value = -30
kill = 1
absolute = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = time < 0
value = 1

[State 0, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 2002

[State 0, 2]
type = ScreenBound
Trigger1 = Time > 0
value = 0
movecamera = 0,0

[State 0, 2]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 35

;-----------------------------------------------------------------------------
[Statedef 2007]
type    = A
movetype= H
physics = N

[State 620, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 0, Gravity]
type = VelAdd
trigger1 = 1
x = -10
y = .45

[State 0,FLY]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 2007, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
